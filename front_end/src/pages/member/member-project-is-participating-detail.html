<div id="main" class="main">
  <div class="row">
    <div class="content-title">
      <div class="title-project">
        <a href="#member/project-is-participating">Danh sách dự án</a> /
        <a href="#member/project-is-participating/{{detailProject.id}}"
          >{{detailProject.name}}</a
        >
      </div>
      <div class="option_todo">
        <div class="select_option_todo"><i class="bx bx-layout"></i> Board</div>
      </div>
      <div class="listPeriod__btn">
        <div class="filter-period">
          <i class="bx bx-chevron-down"></i>
        </div>
      </div>
      <div class="div_my_work">
        <div class="my_work"><i class="bx bx-layout"></i> Việc của tôi</div>
      </div>
      <div class="div_period">
        <div ng-click="openDialogShowMenu($event)" class="period">
          <i class="bx bx-layout"></i> Giai đoạn
        </div>
        <div
          class="dialogShowMenu"
          ng-show="showDialogShowMenu"
          ng-style="dialogStyleShowMenu"
        >
          <div class="dialog-contentShowMenu">
            <button
              type="button"
              class="closeShowMenu"
              ng-click="closeDialogShowMenu()"
            >
              &times;
            </button>
            <h4 class="dialog-titleShowMenu">Giai đoạn</h4>
            <div class="dialog-bodyShowMenu">
              <div class="container-fluid">
                <div class="content_period">
                  <span><i class="bx bx-layout"></i> Giai đoạn của dự án</span>
                  <br />
                  <select
                    ng-change="changePeriod()"
                    ng-model="valuePeriod"
                    class="period_all"
                    name=""
                    id=""
                  >
                    <option
                      value="{{item.id}}"
                      ng-repeat="item in listPeriodById"
                    >
                      {{item.name}}
                    </option>
                  </select>
                  <div class="btn_detail_period">
                    <a href="#member/period-project/{{detailProject.id}}"
                      ><button class="detail_period">Xem chi tiết</button></a
                    >
                    <button class="period_happen">
                      Giai đoạn đang diễn ra
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="list-member">
        <a
          style="margin-left: -5px"
          ng-repeat-start="member in listMemberProject | limitTo:5"
          href=""
        >
          <img
            class="rounded-circle"
            width="32px"
            height="32px"
            my-tooltip
            tooltip-content="{{member.name + ' ' + member.code}}"
            src="{{member.image}}"
            alt=""
          />
        </a>
        <a ng-repeat-end></a>
        <button
          style="margin-left: -5px"
          ng-show="checkNumberMember"
          class="btn-people"
        >
          +{{numberMemberMore}}
        </button>
        <!-- <button
          class="btn-people-detail"
          data-bs-toggle="modal"
          data-bs-target="#modal_showMember"
        >
          <img src="../../../assets/img/eye-fill.svg" />
        </button> -->
        <a
          class="eye-detail"
          data-bs-toggle="modal"
          data-bs-target="#modal_showMember"
        >
          <div
            my-tooltip
            tooltip-content="Danh sách thành viên của dự án"
            style="margin-left: -1px"
          >
            <img src="../../../assets/img/eye-fill.svg" /></div
        ></a>
        <div class="more-menu">...</div>
        <div id="right-menu">
          <button id="close-menu">X</button>
          <header>
            <h2>Menu</h2>
          </header>
          <ul class="menu-list">
            <li id="change-background" class="menu-item">Thay đổi hình nền</li>
            <li class="menu-item">Menu item 2</li>
            <li class="menu-item">Menu item 3</li>
          </ul>
        </div>
        <div id="new-menu" class="hidden">
          <button id="previous-menu"><</button>
          <button id="close-new-menu">X</button>
          <header>
            <h2>Thay đổi hình nền</h2>
          </header>
          <div style="margin-top: 3px" class="container-fluid">
            <div class="row">
              <div
                ng-repeat="item in listBackground"
                style="padding-left: 0; padding-right: 0"
                class="col-6"
              >
                <img
                  ng-click="changeBackground(item)"
                  class="img-background"
                  src="{{item}}"
                  alt=""
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="div_filter_todo">
        <div><i class="bx bx-filter"></i> Bộ lọc</div>
      </div>
      <div class="div_sort_todo">
        <div><i class="bx bx-sort"></i> Sắp xếp</div>
      </div>
    </div>
  </div>
  <br />
  <div class="container-custom-trello">
    <div class="row flex-nowrap">
      <div
        ng-repeat="xx in listTask"
        dnd-draggable="xx"
        dnd-dropzone="listTask"
        dnd-list="listTask"
        dnd-effect-allowed="move"
        class="item"
        dnd-drop="onDropCard(xx, $index)"
        dnd-dragstart="onDragStartCard(xx, $index)"
        style="width: auto; padding-right: 0"
      >
        <div class="card trello-card">
          <h6 class="card-title">{{xx.name}}</h6>
          <div class="card-body">
            <ul
              class="list-group"
              dnd-dropzone="xx.todoList"
              dnd-list="xx.todoList"
              ng-init="externalSources=['external']"
              dnd-allow-same-container
              dnd-external-sources="externalSources"
              dnd-drop="onDrop($event, index, item, external, type, xx)"
            >
              <li
                ng-repeat="item in xx.todoList"
                dnd-draggable="item"
                dnd-selected="selected = item"
                ng-class="{selected: selected === item}"
                class="list-group-item"
                dnd-effect-allowed="move"
                dnd-dragstart="onDragStart($index, xx.todoList)"
                dnd-dragend="onDragEnd(item, xx, $event, $index)"
                dnd-moved="draggedItem = item"
                style="list-style: none"
                ng-click="actionDetailTodo($event, item.id, $index, $parent.$index, xx)"
              >
                <div>
                  <span
                    ng-repeat="lb in item.labels"
                    my-tooltip
                    tooltip-content="{{lb.name}}"
                    class="label_todo"
                    ng-style="{ backgroundColor: lb.colorLabel }"
                    ><span class="label_dot"></span>{{lb.code}}</span
                  >
                </div>
                <a
                  >{{item.name}}
                  <br />
                  <span
                    ng-if="item.priorityLevel != null"
                    my-tooltip
                    tooltip-content="{{item.priorityLevel == 0 ? 'Độ ưu tiên: Quan trọng' : item.priorityLevel == 1 ? 'Độ ưu tiên: Cao'  : item.priorityLevel == 2 ? 'Độ ưu tiên: Trung bình'  : item.priorityLevel == 3 ? 'Độ ưu tiên: Thấp' : '' }}"
                    class="prioritylevel_todo"
                    ng-style="{ backgroundColor: item.priorityLevel == 0 ? 'red' : item.priorityLevel == 1 ? 'orange' : item.priorityLevel == 2 ? 'yellow': item.priorityLevel == 3 ? '#6bb973' : '' }"
                  >
                  </span>
                </a>
                <br /><i
                  my-tooltip
                  tooltip-content="Thẻ có mô tả"
                  ng-if="item.descriptions != ''"
                  class="bx bx-menu"
                ></i>

                <span
                  my-tooltip
                  tooltip-content="Đã hoàn thành {{item.numberTodoComplete}} trên tổng số {{item.numberTodo}} đầu việc"
                  ng-if="item.numberTodo > 0 && item.numberTodo != item.numberTodoComplete"
                  style="margin-left: 3px"
                  ><i class="bx bx-task"></i>
                  {{item.numberTodoComplete}}/{{item.numberTodo}}</span
                >
                <span
                  my-tooltip
                  tooltip-content="Đã hoàn thành xong tất cả các đầu việc"
                  class="task_complete"
                  ng-if="item.numberTodo > 0 && item.numberTodo == item.numberTodoComplete"
                  style="margin-left: 3px"
                  ><i class="bx bx-task"></i>
                  {{item.numberTodoComplete}}/{{item.numberTodo}}</span
                >
                <span
                  ng-if="item.progressOfTodo > 0 && item.progressOfTodo != 100"
                  my-tooltip
                  tooltip-content="Tiến độ: {{item.progressOfTodo}} %"
                  class="progress_show_todo"
                  ><i class="bx bx-line-chart"></i>
                  {{item.progressOfTodo}}%</span
                >
                <span
                  ng-if="item.numberTodo > 0 && item.progressOfTodo == 100"
                  my-tooltip
                  tooltip-content="Tiến độ: {{item.progressOfTodo}} %"
                  class="progress_show_todo"
                  style="background-color: #4a95ea"
                  ><i class="bx bx-line-chart"></i>
                  {{item.progressOfTodo}}%</span
                >
                <span
                  ng-if="item.deadline != null"
                  ng-mouseenter="showDeadlineView = true"
                  ng-mouseleave="showDeadlineView = false"
                  class="deadline_show_todo"
                  ><input
                    ng-show="showDeadlineView"
                    class="checkbox_deadline_show"
                    type="checkbox"
                  /><i class="bx bx-time" ng-hide="showDeadlineView"></i>
                  {{item.deadlineString}}</span
                >
                <div class="list_member_todo">
                  <a
                    ng-repeat="member in item.members track by $index"
                    my-tooltip
                    tooltip-content="{{member.name + ' ' + member.code}}"
                    href=""
                    style="margin-left: -8px"
                  >
                    <img
                      class="rounded-circle"
                      width="33px"
                      height="33px"
                      src="{{member.image}}"
                      alt=""
                    />
                  </a>
                </div>
              </li>

              <li style="z-index: 2">
                <div class="form_add_card" ng-show="xx.checkShowAddCard">
                  <textarea
                    placeholder="Enter card title"
                    class="input_add_custom"
                    name="inputTitle"
                    ng-model="valueInput"
                  ></textarea>
                  <button ng-click="addNewCard($index)" class="btn_add_custom">
                    Add card
                  </button>
                  <button
                    class="btn_close_custom"
                    ng-click="closeAddNewCard($index)"
                  >
                    X
                  </button>
                  <div class="toggle-menu">
                    <button class="btn_popup_custom" ng-click="toggleMenu()">
                      ...
                    </button>
                    <ul ng-show="showMenu">
                      <li><a href="#">Edit</a></li>
                      <li><a href="#">Delete</a></li>
                    </ul>
                  </div>
                </div>
              </li>
              <li
                class="li_custom"
                style="color: #e6e3e3; margin-top: 0; height: 5px"
              >
                <hr />
              </li>
              <!-- </li> -->
            </ul>
          </div>
          <ul class="ul_add-card">
            <li
              class="list-group-item add-card"
              ng-click="addACard($index)"
              ng-hide="xx.checkShowAddCard"
            >
              <i class="bx bx-plus"></i> Add a card
            </li>
            <!-- <li class="list-group-item"> -->
          </ul>
        </div>
      </div>
      <div
        ng-hide="checkShowAddTodoList"
        ng-click="checkShowAddTodoList = true"
        class="div_add_todolist"
      >
        <div><i class="bx bx-plus"></i> Add todo list</div>
      </div>
      <div ng-show="checkShowAddTodoList" class="form_add_todo_list">
        <input
          type="text"
          placeholder="Enter list title"
          class="input_add_todo_list"
        />
        <button class="btn_add_list">Add list</button>
        <button class="btn_x_list" ng-click="closeAddTodoList()">X</button>
      </div>
    </div>
  </div>
  <div
    class="modal fade"
    id="modal_showMember"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg modal-lg" role="document">
      <div class="modal-content">
        <form id="form_member">
          <div class="modal-header">
            <h5 class="modal-title">Danh sách các thành viên tham gia dự án</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="container">
              <div ng-repeat="member in listMemberById">
                <div class="custom_member">
                  <img
                    class="rounded-circle"
                    width="50px"
                    height="50px"
                    src="{{member.image}}"
                    alt=""
                  />
                  <span style="margin-left: 20px; font-size: 16px"
                    >{{member.name}}</span
                  >
                  <span class="role_member_custom" style="margin-left: 20px">
                    {{member.role == 0 ? "Quản lý" : "Thành viên"}}</span
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-outline-secondary btn btn-light"
              data-bs-dismiss="modal"
            >
              Hủy
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="modal_show_detail_todo"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg modal-lg" role="document">
      <div class="modal-content">
        <form id="form_member">
          <div class="modal-header">
            <h5 class="modal-title" style="width: auto">
              <i class="bx bx-task"></i>
              <b
                ><input
                  class="title_detail_todo"
                  type="text"
                  name="toDoName"
                  value="{{detailTodo.name}}"
              /></b>
              <br />
              <p style="font-size: 14px">
                trong danh sách {{itemListTask.name}}
              </p>
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <div class="row">
                <div class="col-9">
                  <div class="member__label">
                    <div class="member_detail_todo">
                      <h6 style="font-size: 14px">Thành viên</h6>
                      <a
                        ng-repeat="member in detailTodo.listMemberDetailTodo"
                        my-tooltip
                        tooltip-content="{{member.name + ' ' + member.code}}"
                        href=""
                      >
                        <img
                          class="rounded-circle"
                          width="37px"
                          height="37px"
                          src="{{member.image}}"
                          alt=""
                        />
                      </a>
                      <button
                        ng-click="openDialogAddMemberOut($event)"
                        class="btn-add-member"
                      >
                        <i class="bx bx-plus"></i>
                      </button>
                      <div
                        class="dialogAddMemberOut"
                        ng-show="showDialogAddMemberOut"
                        ng-style="dialogStyleAddMemberOut"
                      >
                        <div class="dialog-contentAddMemberOut">
                          <button
                            type="button"
                            class="closeAddMemberOut"
                            ng-click="closeDialogAddMemberOut()"
                          >
                            &times;
                          </button>
                          <h4 class="dialog-titleAddMemberOut">Thành viên</h4>
                          <div class="dialog-bodyAddMemberOut">
                            <div class="container-fluid">
                              <div class="row">
                                <input
                                  type="text"
                                  class="input_search_member_out"
                                  placeholder="Tìm kiếm thành viên"
                                  name="inputSearchMember"
                                  id=""
                                />
                              </div>
                              <div
                                style="margin-top: 10px; margin-bottom: 10px"
                              >
                                <span style="font-size: 14px"
                                  >Danh sách thành viên</span
                                >
                              </div>
                              <div class="d-flex flex-wrap">
                                <a
                                  ng-repeat="member in listMemberProject"
                                  my-tooltip
                                  tooltip-content="{{member.name + ' ' + member.code}}"
                                  href=""
                                  ng-click="createOrDeleteAssign(member.id, detailTodo.id, member.checkMemberAssign)"
                                >
                                  <img
                                    class="rounded-circle"
                                    width="35px"
                                    height="35px"
                                    src="{{member.image}}"
                                    alt="" />
                                  <i
                                    ng-show="member.checkMemberAssign"
                                    class="bx bx-check custom"
                                  ></i
                                ></a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="label_detail_todo">
                      Nhãn
                      <div class="span_custom_label">
                        <span
                          ng-repeat="lb in detailTodo.listLabelDetailTodo"
                          my-tooltip
                          tooltip-content="{{lb.name}}"
                          class="span_label"
                          ng-style="{ backgroundColor: lb.colorLabel }"
                          ><span class="label_dot_detail"></span
                          >{{lb.code}}</span
                        >
                        <span
                          ng-click="openDialogAddLabelOut($event)"
                          class="span_label_plus"
                          ><i class="bx bx-plus"></i
                        ></span>
                        <div
                          class="dialogAddLabelOut"
                          ng-show="showDialogAddLabelOut"
                          ng-style="dialogStyleAddLabelOut"
                        >
                          <div class="dialog-contentAddLabelOut">
                            <button
                              type="button"
                              class="closeAddLabelOut"
                              ng-click="closeDialogAddLabelOut()"
                            >
                              &times;
                            </button>
                            <h4 class="dialog-titleAddLabelOut">Nhãn</h4>
                            <div class="dialog-bodyAddLabelOut">
                              <div class="container">
                                <div class="row">
                                  <input
                                    type="text"
                                    class="input_search_label_out"
                                    placeholder="Tìm kiếm nhãn"
                                    name="inputSearchLabel"
                                    id=""
                                  />
                                </div>
                                <div
                                  style="margin-top: 10px; margin-bottom: 10px"
                                >
                                  <span style="font-size: 14px"
                                    >Danh sách nhãn</span
                                  >
                                </div>
                                <div
                                  ng-repeat="lb in listLabel"
                                  class="d-flex flex-wrap custom_label"
                                >
                                  <input
                                    type="checkbox"
                                    ng-click="changeCheckboxLabel(lb.id, detailTodo.id, lb.checkLabel)"
                                    value="{{lb.id}}"
                                    class="form-check-input custom_label"
                                    name="checkbox_label"
                                    ng-checked="{{lb.checkLabel}}"
                                  />
                                  <span
                                    my-tooltip
                                    tooltip-content="{{lb.name}}"
                                    class="span_label_detail"
                                    ng-style="{ backgroundColor: lb.colorLabel }"
                                    ><span class="label_dot_detail"></span
                                    >{{lb.code}}</span
                                  >
                                  <i class="bx bx-pencil cusom_label"></i>
                                </div>
                              </div>
                            </div>
                            <div class="btn_add_label">
                              <button>
                                <i class="bx bx-plus"></i> Thêm mới nhãn
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div
                    ng-if="detailTodo.priorityLevel != null"
                    class="priority-level-custom-todo"
                  >
                    <div class="title-priority">Độ ưu tiên:</div>
                    <span
                      class="span-priority"
                      my-tooltip
                      tooltip-content="{{detailTodo.priorityLevel == 'QUAN_TRONG' ? 'Quan
                      trọng' : (detailTodo.priorityLevel == 'CAO' ? 'Cao' :
                      (detailTodo.priorityLevel == 'TRUNG_BINH' ? 'Trung bình'
                      : (detailTodo.priorityLevel == 'THAP' ? 'Thấp' :
                      '')))}}"
                      ng-style="{ backgroundColor: detailTodo.priorityLevel == 'QUAN_TRONG' ? 'red' : detailTodo.priorityLevel == 'CAO' ? 'orange' : detailTodo.priorityLevel == 'TRUNG_BINH' ? 'yellow' : detailTodo.priorityLevel == 'THAP' ? '#6bb973' : '' }"
                    >
                    </span>
                  </div>
                  <div ng-if="detailTodo.deadline != null" class="deadline_detail_todo">
                    Ngày hạn:
                    <input type="checkbox" class="form-check-input deadline" />
                    <span
                      ng-click="openDialogAddDeadline($event)"
                      class="span_convert_date_string"
                    >
                      {{detailTodo.convertDate}}</span
                    >
                  </div>
                  <div class="descipstions_custom">
                    <i class="bx bx-menu"></i><span> Mô tả </span> <br />
                    <textarea
                      name=""
                      class="textarea_custom_detail_todo"
                      id=""
                      placeholder="Thêm mô tả đầu việc"
                      spellcheck="false"
                      ng-model="detailTodo.descriptions"
                    ></textarea>
                    <br />
                    <button
                      class="btn_save_descriptions"
                      ng-click="saveDescriptionsTodo()"
                    >
                      Lưu mô tả
                    </button>
                    <button
                      ng-click="resetDescriptionsTodo()"
                      class="btn_reset_descriptions"
                    >
                      Reset
                    </button>
                  </div>
                  <div class="checklist_custom">
                    <i class="bx bx-task"></i>
                    <span style="font-size: 17px; font-weight: 500">
                      Danh sách đầu việc</span
                    >
                    <div class="list_task_checklist">
                      <progress id="progressTodo" max="100"></progress>
                      <div
                        ng-repeat="chklist in detailTodo.listTaskDetailTodo"
                        class="checkbox_list d-flex flex-wrap"
                        ng-click="showSaveTodoInCheckList($index, chklist.name, $event)"
                      >
                        <input
                          ng-checked="chklist.statusTodo == 0 ? false : true"
                          type="checkbox"
                          class="form-check-input custom"
                          ng-click="changeProgressTodo(chklist.id, chklist.statusTodo)"
                        /><span
                          ng-hide="chklist.checkShowFormUpdateTodoInTask"
                          class="content_checklist"
                        >
                          {{chklist.name}}
                        </span>

                        <div
                          ng-show="chklist.checkShowFormUpdateTodoInTask"
                          class="show_form_update_todo_in_checklist"
                        >
                          <textarea
                            name=""
                            class="textarea_update_todo_in_task"
                            cols="30"
                            id="valueSaveTodoInChecklist"
                            rows="10"
                          ></textarea>
                          <br />
                          <button
                            ng-click="saveTodoInCheckList($index, chklist.id)"
                            class="save_todo_in_checkList"
                          >
                            Lưu
                          </button>
                          <button
                            type="button"
                            class="close_todo_in_checklist"
                            ng-click="closeSaveTodoInCheckList($index)"
                          >
                            X
                          </button>
                        </div>
                        <div
                          my-tooltip
                          tooltip-content="Xóa"
                          class="div_remove_todo_in_checklist"
                        >
                          <button
                            type="button"
                            class="remove_todo_in_checklist"
                            ng-click="removeTodoInCheckList(chklist.id)"
                          >
                            <i class="bx bx-minus"></i>
                          </button>
                        </div>
                      </div>
                      <button
                        ng-hide="showAddTodoInList"
                        ng-click="showAddTodoInList = true"
                        class="btn_show_add_todo_in_checklist"
                      >
                        Thêm đầu việc
                      </button>
                      <div
                        ng-show="showAddTodoInList"
                        class="add_new_todo_in_checklist"
                      >
                        <textarea
                          name=""
                          placeholder="Thêm đầu việc mới"
                          ng-model="valueAddTodoInChecklist"
                          class="textarea_add_todo_in_checklist"
                          cols="30"
                          rows="10"
                        ></textarea>
                        <br />
                        <button
                          ng-click="addNewTodoInCheckList($index, detailTodo.id)"
                          class="btn_add_todo_in_checklist"
                        >
                          Thêm đầu việc
                        </button>
                        <button
                          ng-click="closeAddTodoInCheckList()"
                          class="btn_close_todo_in_checklist"
                        >
                          Hủy
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="activity_custom">
                    <i class="bx bx-menu"></i
                    ><span style="font-size: 17px; font-weight: 500">
                      Hoạt động
                    </span>
                    <br />
                  </div>
                </div>
                <div class="col-3">
                  <span style="font-size: 14px; margin-left: -10px">Gợi ý</span>

                  <div class="row">
                    <button class="btn_join_todo">
                      <i class="bx bx-user"></i>
                      Tham gia
                    </button>
                  </div>
                  <span
                    style="font-size: 14px; margin-left: -10px; margin-top: 5px"
                    >Thêm vào thẻ</span
                  >
                  <div class="row" style="margin-bottom: 10px">
                    <button
                      ng-click="openDialogAddMember($event)"
                      class="btn_add_to_card"
                    >
                      <i class="bx bx-user"></i> Thành viên
                    </button>
                    <div
                      class="dialogAddMember"
                      ng-show="showDialogAddMember"
                      ng-style="dialogStyleAddMember"
                    >
                      <div class="dialog-contentAddMember">
                        <button
                          type="button"
                          class="closeAddMember"
                          ng-click="closeDialogAddMember()"
                        >
                          &times;
                        </button>
                        <h4 class="dialog-titleAddMember">Thành viên</h4>
                        <div class="dialog-bodyAddMember">
                          <div class="container-fluid">
                            <div class="row">
                              <input
                                type="text"
                                class="input_search_member"
                                placeholder="Tìm kiếm thành viên"
                                name="inputSearchMember"
                                id=""
                              />
                            </div>
                            <div style="margin-top: 10px; margin-bottom: 10px">
                              <span style="font-size: 14px"
                                >Danh sách thành viên</span
                              >
                            </div>
                            <div class="d-flex flex-wrap">
                              <a
                                ng-repeat="member in listMemberProject"
                                my-tooltip
                                tooltip-content="{{member.name + ' ' + member.code}}"
                                href=""
                                ng-click="createOrDeleteAssign(member.id, detailTodo.id, member.checkMemberAssign)"
                              >
                                <img
                                  class="rounded-circle"
                                  width="35px"
                                  height="35px"
                                  src="{{member.image}}"
                                  alt="" />
                                <i
                                  ng-show="member.checkMemberAssign"
                                  class="bx bx-check custom"
                                ></i
                              ></a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <button
                      ng-click="openDialogAddLabel($event)"
                      class="btn_add_to_card"
                    >
                      <i class="bx bx-label"></i> Nhãn
                    </button>
                    <div
                      class="dialogAddLabel"
                      ng-show="showDialogAddLabel"
                      ng-style="dialogStyleAddLabel"
                    >
                      <div class="dialog-contentAddLabel">
                        <button
                          type="button"
                          class="closeAddLabel"
                          ng-click="closeDialogAddLabel()"
                        >
                          &times;
                        </button>
                        <h4 class="dialog-titleAddLabel">Nhãn</h4>
                        <div class="dialog-bodyAddLabel">
                          <div class="container-fluid">
                            <div class="row">
                              <input
                                type="text"
                                class="input_search_label"
                                placeholder="Tìm kiếm nhãn"
                                name="inputSearchLabel"
                                id=""
                              />
                            </div>
                            <div style="margin-top: 10px; margin-bottom: 10px">
                              <span style="font-size: 14px"
                                >Danh sách nhãn</span
                              >
                            </div>
                            <div
                              ng-repeat="lb in listLabel"
                              class="d-flex flex-wrap custom_label"
                            >
                              <input
                                type="checkbox"
                                ng-click="changeCheckboxLabel(lb.id, detailTodo.id, lb.checkLabel)"
                                value="{{lb.id}}"
                                class="form-check-input custom_label"
                                name="checkbox_label"
                                ng-checked="{{lb.checkLabel}}"
                              />
                              <span
                                my-tooltip
                                tooltip-content="{{lb.name}}"
                                class="span_label_detail"
                                ng-style="{ backgroundColor: lb.colorLabel }"
                                ><span class="label_dot_detail"></span
                                >{{lb.code}}</span
                              >
                              <i class="bx bx-pencil cusom_label"></i>
                            </div>
                          </div>
                        </div>
                        <div class="btn_add_label">
                          <button>
                            <i class="bx bx-plus"></i> Thêm mới nhãn
                          </button>
                        </div>
                      </div>
                    </div>
                    <button
                      ng-click="openDialogAddPriorityLevel($event)"
                      class="btn_add_to_card"
                    >
                      <i class="bx bx-flag"></i>
                      Độ ưu tiên
                    </button>
                    <div
                      class="dialogAddPriorityLevel"
                      ng-show="showDialogAddPriorityLevel"
                      ng-style="dialogStyleAddPriorityLevel"
                    >
                      <div class="dialog-contentAddPriorityLevel">
                        <button
                          type="button"
                          class="closeAddPriorityLevel"
                          ng-click="closeDialogAddPriorityLevel()"
                        >
                          &times;
                        </button>
                        <h4 class="dialog-titleAddPriorityLevel">Độ ưu tiên</h4>
                        <div class="dialog-bodyAddPriorityLevel">
                          <div class="container-fluid">
                            <div class="form-check">
                              <div class="form-check-item">
                                <label
                                  style="
                                    color: red;
                                    font-weight: bold;
                                    cursor: pointer;
                                  "
                                >
                                  <input
                                    type="radio"
                                    ng-click="actionChangePriorityLevel(0, detailTodo.id)"
                                    ng-checked="detailTodo.priorityLevel == 'QUAN_TRONG'"
                                    class="form-check-input"
                                    name="priorityLevel"
                                  />Quan trọng
                                </label>
                              </div>
                              <div class="form-check-item">
                                <label
                                  style="
                                    color: orange;
                                    font-weight: bold;
                                    cursor: pointer;
                                  "
                                >
                                  <input
                                    type="radio"
                                    ng-click="actionChangePriorityLevel(1, detailTodo.id)"
                                    ng-checked="detailTodo.priorityLevel == 'CAO'"
                                    class="form-check-input"
                                    name="priorityLevel"
                                  />Cao
                                </label>
                              </div>
                              <div class="form-check-item">
                                <label
                                  style="
                                    color: yellow;
                                    font-weight: bold;
                                    cursor: pointer;
                                  "
                                >
                                  <input
                                    type="radio"
                                    ng-click="actionChangePriorityLevel(2, detailTodo.id)"
                                    ng-checked="detailTodo.priorityLevel == 'TRUNG_BINH'"
                                    class="form-check-input"
                                    name="priorityLevel"
                                  />Trung bình
                                </label>
                              </div>
                              <div class="form-check-item">
                                <label
                                  style="
                                    color: #6bb973;
                                    font-weight: bold;
                                    cursor: pointer;
                                  "
                                >
                                  <input
                                    type="radio"
                                    ng-click="actionChangePriorityLevel(3, detailTodo.id)"
                                    ng-checked="detailTodo.priorityLevel == 'THAP'"
                                    class="form-check-input"
                                    name="priorityLevel"
                                  />Thấp
                                </label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <button class="btn_add_to_card">
                      <i class="bx bx-task"></i> Đầu việc
                    </button>
                    <button
                      ng-click="openDialogAddDeadline($event)"
                      class="btn_add_to_card"
                    >
                      <i class="bx bx-time"></i> Ngày hạn
                    </button>
                    <div
                      class="dialogAddDeadline"
                      ng-show="showDialogAddDeadline"
                      ng-style="dialogStyleAddDeadline"
                    >
                      <div class="dialog-contentAddDeadline">
                        <button
                          type="button"
                          class="closeAddDeadline"
                          ng-click="closeDialogAddDeadline()"
                        >
                          &times;
                        </button>
                        <h4 class="dialog-titleAddDeadline">Ngày hạn</h4>
                        <div class="dialog-bodyAddDeadline">
                          <div class="container-fluid">
                            <div class="content-deadline">
                              <span style="font-size: 14px">Ngày hạn:</span>
                              <input
                                class="input_deadline"
                                type="datetime-local"
                                ng-model="timeDeadline"
                                name=""
                              />
                              <div style="margin-top: 15px">
                                <span style="font-size: 14px; margin-top: 30px"
                                  >Đặt lời nhắc nhở ngày hết hạn</span
                                >
                                <br />
                                <select class="select_due_date" name="">
                                  <option class="option_due_date" value="">
                                    None
                                  </option>
                                  <option
                                    class="option_due_date"
                                    value="Tại thời điểm hết hạn"
                                  >
                                    Tại thời điểm hết hạn
                                  </option>
                                  <option
                                    class="option_due_date"
                                    value="Trước 5 phút"
                                  >
                                    Trước 5 phút
                                  </option>
                                  <option
                                    class="option_due_date"
                                    value="Trước 10 phút"
                                  >
                                    Trước 10 phút
                                  </option>
                                  <option
                                    class="option_due_date"
                                    value="Trước 15 phút"
                                  >
                                    Trước 15 phút
                                  </option>
                                  <option
                                    class="option_due_date"
                                    value="Trước 1 giờ"
                                  >
                                    Trước 1 giờ
                                  </option>
                                  <option
                                    class="option_due_date"
                                    value="Trước 2 giờ"
                                  >
                                    Trước 2 giờ
                                  </option>
                                  <option
                                    class="option_due_date"
                                    value="Trước 1 ngày"
                                  >
                                    Trước 1 ngày
                                  </option>
                                  <option
                                    class="option_due_date"
                                    value="Trước 2 ngày"
                                  >
                                    Trước 2 ngày
                                  </option>
                                </select>
                              </div>
                              <div class="note_due_date">
                                <span
                                  >Lưu ý: Nhắc nhở sẽ được gửi đến tất cả các
                                  thành viên của thẻ này</span
                                >
                              </div>

                              <button
                                ng-click="saveDueDate()"
                                class="save_due_date"
                              >
                                Lưu
                              </button>
                              <button
                                ng-click="removeDueDate()"
                                class="remove_due_date"
                              >
                                Xóa
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <span class="hanh_dong">Hành động</span>
                  <div class="row">
                    <button
                      ng-click="openDialogAddMember($event)"
                      class="btn_add_to_card"
                    >
                      <i class="bx bx-trash"></i> Xóa thẻ
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- Dialog -->
</div>
